{"version":3,"file":"onboarding-Ca1IL3W0.js","sources":["../../../../frontend/src/stores/onboarding.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\n\r\nexport const useOnboardingStore = defineStore('onboarding', () => {\r\n  // State\r\n  const currentStep = ref(1)\r\n  const totalSteps = ref(4)\r\n  const isCompleted = ref(false)\r\n  const connectedApps = ref([])\r\n  const selectedIntegrations = ref([])\r\n  const fieldMappings = ref({})\r\n\r\n  // Available apps for integration\r\n  const availableApps = ref([\r\n    {\r\n      id: 'jira',\r\n      name: 'Jira',\r\n      description: 'Project management and issue tracking',\r\n      icon: '🎯',\r\n      color: 'bg-blue-500',\r\n      isConnected: false,\r\n    },\r\n    {\r\n      id: 'slack',\r\n      name: 'Slack',\r\n      description: 'Team communication and collaboration',\r\n      icon: '💬',\r\n      color: 'bg-purple-500',\r\n      isConnected: false,\r\n    },\r\n    {\r\n      id: 'hubspot',\r\n      name: 'HubSpot',\r\n      description: 'CRM and marketing automation',\r\n      icon: '🎨',\r\n      color: 'bg-orange-500',\r\n      isConnected: false,\r\n    },\r\n    {\r\n      id: 'google_sheets',\r\n      name: 'Google Sheets',\r\n      description: 'Spreadsheets and data management',\r\n      icon: '📊',\r\n      color: 'bg-green-500',\r\n      isConnected: false,\r\n    },\r\n    {\r\n      id: 'salesforce',\r\n      name: 'Salesforce',\r\n      description: 'Customer relationship management',\r\n      icon: '☁️',\r\n      color: 'bg-blue-600',\r\n      isConnected: false,\r\n    },\r\n    {\r\n      id: 'mailchimp',\r\n      name: 'Mailchimp',\r\n      description: 'Email marketing platform',\r\n      icon: '✉️',\r\n      color: 'bg-yellow-500',\r\n      isConnected: false,\r\n    },\r\n  ])\r\n\r\n  // Computed\r\n  const progress = computed(() => (currentStep.value / totalSteps.value) * 100)\r\n  const canContinue = computed(() => {\r\n    switch (currentStep.value) {\r\n      case 1: // Auth - handled by route guard\r\n        return true\r\n      case 2: // Connect Apps\r\n        return connectedApps.value.length > 0\r\n      case 3: // Integration\r\n        return selectedIntegrations.value.length > 0\r\n      case 4: // Configuration\r\n        return true // Can always skip\r\n      default:\r\n        return false\r\n    }\r\n  })\r\n\r\n  const hasConnectedApps = computed(() => connectedApps.value.length > 0)\r\n\r\n  // Actions\r\n  function setStep(step) {\r\n    currentStep.value = step\r\n  }\r\n\r\n  function nextStep() {\r\n    if (currentStep.value < totalSteps.value) {\r\n      currentStep.value++\r\n    }\r\n  }\r\n\r\n  function previousStep() {\r\n    if (currentStep.value > 1) {\r\n      currentStep.value--\r\n    }\r\n  }\r\n\r\n  function connectApp(appId) {\r\n    const app = availableApps.value.find(a => a.id === appId)\r\n    if (app && !app.isConnected) {\r\n      app.isConnected = true\r\n      connectedApps.value.push(appId)\r\n    }\r\n  }\r\n\r\n  function disconnectApp(appId) {\r\n    const app = availableApps.value.find(a => a.id === appId)\r\n    if (app) {\r\n      app.isConnected = false\r\n      connectedApps.value = connectedApps.value.filter(id => id !== appId)\r\n      selectedIntegrations.value = selectedIntegrations.value.filter(\r\n        integration => !integration.includes(appId)\r\n      )\r\n    }\r\n  }\r\n\r\n  function addIntegration(fromApp, toApp) {\r\n    const integrationKey = `${fromApp}-${toApp}`\r\n    if (!selectedIntegrations.value.includes(integrationKey)) {\r\n      selectedIntegrations.value.push(integrationKey)\r\n    }\r\n  }\r\n\r\n  function removeIntegration(integrationKey) {\r\n    selectedIntegrations.value = selectedIntegrations.value.filter(\r\n      key => key !== integrationKey\r\n    )\r\n  }\r\n\r\n  function saveFieldMapping(integrationKey, mapping) {\r\n    fieldMappings.value[integrationKey] = mapping\r\n  }\r\n\r\n  function completeOnboarding() {\r\n    isCompleted.value = true\r\n    // Reset for next time if needed\r\n    currentStep.value = 1\r\n  }\r\n\r\n  function resetOnboarding() {\r\n    currentStep.value = 1\r\n    isCompleted.value = false\r\n    connectedApps.value = []\r\n    selectedIntegrations.value = []\r\n    fieldMappings.value = {}\r\n    availableApps.value.forEach(app => {\r\n      app.isConnected = false\r\n    })\r\n  }\r\n\r\n  return {\r\n    // State\r\n    currentStep,\r\n    totalSteps,\r\n    isCompleted,\r\n    connectedApps,\r\n    selectedIntegrations,\r\n    fieldMappings,\r\n    availableApps,\r\n\r\n    // Computed\r\n    progress,\r\n    canContinue,\r\n    hasConnectedApps,\r\n\r\n    // Actions\r\n    setStep,\r\n    nextStep,\r\n    previousStep,\r\n    connectApp,\r\n    disconnectApp,\r\n    addIntegration,\r\n    removeIntegration,\r\n    saveFieldMapping,\r\n    completeOnboarding,\r\n    resetOnboarding,\r\n  }\r\n})\r\n"],"names":["useOnboardingStore","defineStore","currentStep","ref","totalSteps","isCompleted","connectedApps","selectedIntegrations","fieldMappings","availableApps","progress","computed","canContinue","hasConnectedApps","setStep","step","nextStep","previousStep","connectApp","appId","app","a","disconnectApp","id","integration","addIntegration","fromApp","toApp","integrationKey","removeIntegration","key","saveFieldMapping","mapping","completeOnboarding","resetOnboarding"],"mappings":"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"}