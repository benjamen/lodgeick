import{_ as m,y as p,r as d,a as b,z as v,b as c,o as i,d as e,g as f,h as _,t as g}from"./index-CWYOFLdQ.js";const w={class:"oauth-callback-page d-flex align-items-center justify-content-center min-vh-100 bg-gradient-dark"},y={class:"container"},x={class:"row justify-content-center"},k={class:"col-md-6"},C={class:"card shadow-lg"},A={class:"card-body p-5 text-center"},O={key:0},S={key:1},q={key:2},z={class:"text-muted mb-4"},B={__name:"OAuthCallback",setup(N){const n=p(),a=d(!0),l=d(!1),o=d(null),u=b({url:"lodgeick.api.oauth.oauth_callback",makeParams(s){return{code:s.code,state:s.state,provider:s.provider}},onSuccess(s){a.value=!1,l.value=!0,setTimeout(()=>{window.close()},2e3)},onError(s){a.value=!1,o.value=s.message||"Failed to complete OAuth flow"}});v(()=>{const s=n.query.code,t=n.query.state,r=n.query.provider;if(!s||!t||!r){a.value=!1,o.value="Missing OAuth parameters";return}u.submit({code:s,state:t,provider:r})});function h(){window.close()}return(s,t)=>(i(),c("div",w,[e("div",y,[e("div",x,[e("div",k,[e("div",C,[e("div",A,[a.value?(i(),c("div",O,[...t[0]||(t[0]=[e("div",{class:"spinner-border text-primary mb-3",style:{width:"3rem",height:"3rem"},role:"status"},[e("span",{class:"visually-hidden"},"Processing...")],-1),e("h4",{class:"font-weight-bold mb-2"},"Connecting your account",-1),e("p",{class:"text-muted"},"Please wait while we complete the authentication...",-1)])])):l.value?(i(),c("div",S,[...t[1]||(t[1]=[_('<div class="icon icon-shape bg-gradient-success shadow-success mx-auto mb-4" style="width:80px;height:80px;" data-v-a9b1d84c><i class="fas fa-check text-white" style="font-size:2rem;" data-v-a9b1d84c></i></div><h4 class="font-weight-bold mb-2" data-v-a9b1d84c>Successfully Connected!</h4><p class="text-muted mb-4" data-v-a9b1d84c>Your account has been linked successfully.</p><p class="text-sm text-muted" data-v-a9b1d84c>This window will close automatically...</p>',4)])])):o.value?(i(),c("div",q,[t[2]||(t[2]=e("div",{class:"icon icon-shape bg-gradient-danger shadow-danger mx-auto mb-4",style:{width:"80px",height:"80px"}},[e("i",{class:"fas fa-times text-white",style:{"font-size":"2rem"}})],-1)),t[3]||(t[3]=e("h4",{class:"font-weight-bold mb-2"},"Connection Failed",-1)),e("p",z,g(o.value),1),e("button",{onClick:h,class:"btn btn-primary"}," Close Window ")])):f("",!0)])])])])])]))}},V=m(B,[["__scopeId","data-v-a9b1d84c"]]);export{V as default};
//# sourceMappingURL=OAuthCallback-Cag7zvRR.js.map
