var y=(i,r,a)=>new Promise((c,l)=>{var f=t=>{try{o(a.next(t))}catch(e){l(e)}},s=t=>{try{o(a.throw(t))}catch(e){l(e)}},o=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,s);o((a=a.apply(i,r)).next())});import{_ as w}from"./AccountCard-KFapnGJF.js";import{c as x,b as d,o as u,d as n,t as m,g as b,n as _,e as $,r as p,m as h,p as k,F as C,f as D,B as I}from"./index-Co8hZFcF.js";import{_ as V}from"./ConfirmModal-gc5NbM0n.js";const B={class:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-md transition-shadow"},A={class:"flex items-center space-x-4 flex-1 min-w-0"},M={class:"flex-shrink-0 w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-md"},N={class:"flex-1 min-w-0"},T={class:"text-sm font-semibold text-gray-900 truncate"},j={class:"text-xs text-gray-500 truncate"},S={class:"flex items-center mt-1 space-x-2"},E={key:0,class:"text-xs text-gray-400"},F={class:"flex items-center space-x-2 ml-4"},L={__name:"IntegrationItem",props:{integration:{type:Object,required:!0}},emits:["disconnect","configure"],setup(i){const r=i,a=x(()=>(r.integration.app_name||"A")[0].toUpperCase()),c=x(()=>{const s={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",error:"bg-red-100 text-red-800"};return s[r.integration.status]||s.inactive}),l=x(()=>({active:"Connected",inactive:"Inactive",error:"Error"})[r.integration.status]||"Unknown"),f=s=>{if(!s)return"";const o=new Date(s),e=Math.floor((new Date-o)/(1e3*60*60*24));return e===0?"today":e===1?"yesterday":e<7?`${e} days ago`:e<30?`${Math.floor(e/7)} weeks ago`:e<365?`${Math.floor(e/30)} months ago`:o.toLocaleDateString()};return(s,o)=>(u(),d("div",B,[n("div",A,[n("div",M,m(a.value),1),n("div",N,[n("h4",T,m(i.integration.app_name),1),n("p",j,m(i.integration.description||"No description"),1),n("div",S,[n("span",{class:_(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",c.value])},[o[2]||(o[2]=n("svg",{class:"w-2 h-2 mr-1",fill:"currentColor",viewBox:"0 0 8 8"},[n("circle",{cx:"4",cy:"4",r:"3"})],-1)),$(" "+m(l.value),1)],2),i.integration.connected_at?(u(),d("span",E," Connected "+m(f(i.integration.connected_at)),1)):b("",!0)])])]),n("div",F,[i.integration.status==="active"?(u(),d("button",{key:0,onClick:o[0]||(o[0]=t=>s.$emit("configure",i.integration)),class:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Configure ")):b("",!0),n("button",{onClick:o[1]||(o[1]=t=>s.$emit("disconnect",i.integration)),class:"px-3 py-1.5 text-xs font-medium text-red-700 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"}," Disconnect ")])]))}},U={class:"space-y-6"},z={class:"flex items-center justify-between"},G={key:0,class:"text-center py-12"},Y={class:"mt-6"},q={key:1,class:"space-y-3"},J={__name:"IntegrationsView",setup(i){const r=p([{id:1,app_name:"Google Sheets",description:"Spreadsheet and data management",status:"active",connected_at:"2025-01-15"},{id:2,app_name:"Slack",description:"Team communication platform",status:"active",connected_at:"2025-02-01"},{id:3,app_name:"Xero",description:"Accounting software",status:"active",connected_at:"2025-02-20"}]),a=p(!1),c=p(null),l=p(!1),f=t=>{c.value=t,a.value=!0},s=t=>{console.log("Configure integration:",t),alert(`Configuration panel for ${t.app_name} coming soon!`)},o=()=>y(this,null,function*(){l.value=!0;try{yield new Promise(t=>setTimeout(t,1e3)),r.value=r.value.filter(t=>t.id!==c.value.id),a.value=!1,c.value=null}catch(t){console.error("Error disconnecting:",t),alert("Failed to disconnect integration")}finally{l.value=!1}});return(t,e)=>{var v;return u(),d("div",U,[n("div",z,[e[3]||(e[3]=n("div",null,[n("h1",{class:"text-2xl font-bold text-gray-900"},"Integrations"),n("p",{class:"mt-1 text-sm text-gray-500"},"Manage your connected apps and services")],-1)),n("button",{onClick:e[0]||(e[0]=g=>t.$router.push("/")),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Add Integration ")]),h(w,{title:"Connected Apps",description:`You have ${r.value.length} active integrations`},{default:k(()=>[r.value.length===0?(u(),d("div",G,[e[4]||(e[4]=n("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),e[5]||(e[5]=n("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No integrations",-1)),e[6]||(e[6]=n("p",{class:"mt-1 text-sm text-gray-500"},"Get started by connecting your first app.",-1)),n("div",Y,[n("button",{onClick:e[1]||(e[1]=g=>t.$router.push("/")),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Browse Apps ")])])):(u(),d("div",q,[(u(!0),d(C,null,D(r.value,g=>(u(),I(L,{key:g.id,integration:g,onDisconnect:f,onConfigure:s},null,8,["integration"]))),128))]))]),_:1},8,["description"]),h(V,{modelValue:a.value,"onUpdate:modelValue":e[2]||(e[2]=g=>a.value=g),title:"Disconnect Integration",description:`Are you sure you want to disconnect ${(v=c.value)==null?void 0:v.app_name}?`,message:"This will stop all workflows using this integration. You can reconnect at any time.",variant:"danger",confirmText:"Disconnect",loading:l.value,onConfirm:o},null,8,["modelValue","description","loading"])])}}};export{J as default};
//# sourceMappingURL=IntegrationsView-D0vIqBRV.js.map
